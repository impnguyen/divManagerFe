<mvc:View controllerName="mpn.divManager.controller.App" 
	xmlns:html="http://www.w3.org/1999/xhtml" 
	xmlns:core="sap.ui.core" 
	xmlns:mvc="sap.ui.core.mvc" displayBlock="true" 
	xmlns="sap.m">
	<App>
		<pages>
			<Page title="{i18n>title}">
				<headerContent>
					<Button icon="sap-icon://customer" tooltip="{i18n>headerCustomerSwitchButton}" press="onOpenUserSwitchPressed" />
				</headerContent>
				<dependents>
					<!-- intial user selection dialog -->
					<core:Fragment fragmentName="mpn.divManager.fragments.InitialUserSelection" type="XML"/>
					<!-- user switch dialog -->
					<core:Fragment fragmentName="mpn.divManager.fragments.UserSwitch" type="XML"/>
				</dependents>
				<content>
					<!-- object header -->
					<ObjectHeader title="{i18n>ObjectHeaderTitle}" backgroundDesign="Solid">
						<attributes>
							<ObjectAttribute title="{i18n>ObjectHeaderFirstnameTitle}" text="{currentUser>/firstname}" />
							<ObjectAttribute title="{i18n>ObjectHeaderlastnameTitle}" text="{currentUser>/lastname}" />
							<ObjectAttribute title="{i18n>ObjectHeaderportIdTitle}" text="{currentUser>/portfolioid}" />
						</attributes>
						<statuses>
							<!-- <ObjectStatus title="Status" text="In Stock" state="Success" /> -->
						</statuses>
					</ObjectHeader>
					<!-- scrollable table -->
					<ScrollContainer height="100%" width="100%" horizontal="false" vertical="true" focusable="true">
						<Table id="idProductsTable" items="{divs>/value}">
							<headerToolbar>
								<Toolbar>
									<content>
										<ToolbarSpacer />
										<Title text="{i18n>TableHeaderToolbarTitle}" level="H3"/>
										<ToolbarSpacer />
									</content>
								</Toolbar>
							</headerToolbar>
							<columns>
								<Column minScreenWidth="Phone" demandPopin="true" hAlign="Left">
									<Text text="{i18n>columnSecurity}" />
								</Column>
								<Column minScreenWidth="Phone" demandPopin="true" hAlign="Right">
									<Text text="{i18n>columnValuta}" />
								</Column>
								<Column hAlign="End" minScreenWidth="Phone">
									<Text text="{i18n>columnValue}" />
								</Column>
							</columns>
							<items>
								<ColumnListItem>
									<cells>
										<ObjectIdentifier title="{divs>security}" text="{divs>wkn}" titleActive="true" titlePress="onPressSecurityTitle"/>
										<Text text="{divs>valutaDate}" />
										<Text text="{divs>value}" />
									</cells>
								</ColumnListItem>
							</items>
						</Table>
					</ScrollContainer>
				</content>
				<footer>
					<Toolbar>
						<Text text="{i18n>footerDivSumText}" />
						<ToolbarSpacer/>
						<Text text="{divMeta>/sum} â‚¬" />
					</Toolbar>
				</footer>
			</Page>
		</pages>
	</App>
</mvc:View>